<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: G Pages: 1 -->
<svg width="2036pt" height="1550pt" viewBox="0.00 0.00 2036.00 1550.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1546)">
<title>G</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1546 2032,-1546 2032,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_mt</title>
<polygon fill="none" stroke="#000000" points="494,-119 494,-1345.2 780,-1345.2 780,-119 494,-119"/>
<text text-anchor="middle" x="637" y="-1328.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">TaskCommandMotors</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_st</title>
<polygon fill="none" stroke="#000000" points="1118,-502.8 1118,-1479 1404,-1479 1404,-502.8 1118,-502.8"/>
<text text-anchor="middle" x="1261" y="-1462.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">TaskReadSensors</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_bt</title>
<polygon fill="none" stroke="#000000" points="1640,-8 1640,-989.4 2020,-989.4 2020,-8 1640,-8"/>
<text text-anchor="middle" x="1830" y="-972.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">TaskBrainControl</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_int</title>
<polygon fill="none" stroke="#000000" points="8,-429.8 8,-877.8 486,-877.8 486,-429.8 8,-429.8"/>
<text text-anchor="middle" x="247" y="-861.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">readEncoderl/r</text>
</g>
<!-- mt_init -->
<g id="node1" class="node">
<title>mt_init</title>
<polygon fill="#d3d3d3" stroke="#000000" points="768.5658,-1312.4 611.4342,-1312.4 611.4342,-1276.4 768.5658,-1276.4 768.5658,-1312.4"/>
<text text-anchor="middle" x="690" y="-1290.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Motor task initialisation</text>
</g>
<!-- mt_init_pid -->
<g id="node2" class="node">
<title>mt_init_pid</title>
<polygon fill="#d3d3d3" stroke="#000000" points="718.6389,-1201.4 573.3611,-1201.4 573.3611,-1165.4 718.6389,-1165.4 718.6389,-1201.4"/>
<text text-anchor="middle" x="646" y="-1179.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">PID parameter setup</text>
</g>
<!-- mt_init&#45;&gt;mt_init_pid -->
<g id="edge1" class="edge">
<title>mt_init-&gt;mt_init_pid</title>
<path fill="none" stroke="#000000" d="M682.7343,-1276.0706C675.7282,-1258.3963 665.0326,-1231.414 656.986,-1211.1148"/>
<polygon fill="#000000" stroke="#000000" points="660.2153,-1209.7631 653.2765,-1201.7566 653.7079,-1212.3427 660.2153,-1209.7631"/>
</g>
<!-- mt_init_pwm -->
<g id="node3" class="node">
<title>mt_init_pwm</title>
<polygon fill="#d3d3d3" stroke="#000000" points="728.2224,-1090.4 511.7776,-1090.4 511.7776,-1054.4 728.2224,-1054.4 728.2224,-1090.4"/>
<text text-anchor="middle" x="620" y="-1068.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Setup &amp; attach PWM generators</text>
</g>
<!-- mt_init_pid&#45;&gt;mt_init_pwm -->
<g id="edge2" class="edge">
<title>mt_init_pid-&gt;mt_init_pwm</title>
<path fill="none" stroke="#000000" d="M641.7066,-1165.0706C637.6043,-1147.5569 631.3613,-1120.9039 626.6218,-1100.6701"/>
<polygon fill="#000000" stroke="#000000" points="629.9882,-1099.6949 624.2997,-1090.7566 623.1727,-1101.2913 629.9882,-1099.6949"/>
</g>
<!-- mt_attach_interrupts -->
<g id="node4" class="node">
<title>mt_attach_interrupts</title>
<polygon fill="#d3d3d3" stroke="#000000" points="676.3776,-956.6 503.6224,-956.6 503.6224,-920.6 676.3776,-920.6 676.3776,-956.6"/>
<text text-anchor="middle" x="590" y="-934.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Attach encoder interrupts</text>
</g>
<!-- mt_init_pwm&#45;&gt;mt_attach_interrupts -->
<g id="edge3" class="edge">
<title>mt_init_pwm-&gt;mt_attach_interrupts</title>
<path fill="none" stroke="#000000" d="M615.9541,-1054.3551C610.8993,-1031.8111 602.1956,-992.9924 596.2738,-966.5811"/>
<polygon fill="#000000" stroke="#000000" points="599.6808,-965.7783 594.0776,-956.7863 592.8503,-967.3098 599.6808,-965.7783"/>
</g>
<!-- mt_read_target -->
<g id="node5" class="node">
<title>mt_read_target</title>
<polygon fill="#d3d3d3" stroke="#000000" points="678.2554,-745.6 501.7446,-745.6 501.7446,-709.6 678.2554,-709.6 678.2554,-745.6"/>
<text text-anchor="middle" x="590" y="-723.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read motor targets safely</text>
</g>
<!-- mt_attach_interrupts&#45;&gt;mt_read_target -->
<g id="edge4" class="edge">
<title>mt_attach_interrupts-&gt;mt_read_target</title>
<path fill="none" stroke="#000000" d="M590,-920.2442C590,-883.2863 590,-799.694 590,-755.7704"/>
<polygon fill="#000000" stroke="#000000" points="593.5001,-755.763 590,-745.7631 586.5001,-755.7631 593.5001,-755.763"/>
</g>
<!-- int_trigger -->
<g id="node24" class="node">
<title>int_trigger</title>
<polygon fill="#d3d3d3" stroke="#000000" points="247,-845 15.7505,-827 247,-809 478.2495,-827 247,-845"/>
<text text-anchor="middle" x="247" y="-822.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Trigger on hall sensor A rising edge</text>
</g>
<!-- mt_attach_interrupts&#45;&gt;int_trigger -->
<g id="edge30" class="edge">
<title>mt_attach_interrupts-&gt;int_trigger</title>
<path fill="none" stroke="#000000" d="M503.5856,-929.5497C447.9628,-922.9266 381.2754,-913.2643 354.721,-902.6 324.0248,-890.2723 293.5948,-867.708 272.948,-850.4287"/>
<polygon fill="#000000" stroke="#000000" points="275.1413,-847.6991 265.2652,-843.8632 270.5936,-853.0207 275.1413,-847.6991"/>
<text text-anchor="middle" x="470.1395" y="-890" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Attach interrupts to signal rising edge</text>
</g>
<!-- mt_read_current -->
<g id="node6" class="node">
<title>mt_read_current</title>
<polygon fill="#d3d3d3" stroke="#000000" points="772.4466,-546.8 521.5534,-546.8 521.5534,-510.8 772.4466,-510.8 772.4466,-546.8"/>
<text text-anchor="middle" x="647" y="-524.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read current encoder positions safely</text>
</g>
<!-- mt_read_target&#45;&gt;mt_read_current -->
<g id="edge5" class="edge">
<title>mt_read_target-&gt;mt_read_current</title>
<path fill="none" stroke="#000000" d="M536.1172,-709.3808C528.9159,-704.6917 522.4819,-698.8518 518,-691.6 514.0745,-685.2485 515.3569,-681.7832 518,-674.8 537.1793,-624.1272 582.8642,-579.7053 614.375,-553.5515"/>
<polygon fill="#000000" stroke="#000000" points="616.9006,-556.0091 622.454,-546.9863 612.4861,-550.5766 616.9006,-556.0091"/>
</g>
<!-- mt_calc_pid -->
<g id="node7" class="node">
<title>mt_calc_pid</title>
<polygon fill="#d3d3d3" stroke="#000000" points="713.5028,-385 578.4972,-385 578.4972,-349 713.5028,-349 713.5028,-385"/>
<text text-anchor="middle" x="646" y="-362.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Calculate PID error</text>
</g>
<!-- mt_read_current&#45;&gt;mt_calc_pid -->
<g id="edge6" class="edge">
<title>mt_read_current-&gt;mt_calc_pid</title>
<path fill="none" stroke="#000000" d="M646.8872,-510.554C646.7147,-482.6351 646.3836,-429.0651 646.1783,-395.8464"/>
<polygon fill="#000000" stroke="#000000" points="649.6757,-395.4057 646.1139,-385.4276 642.6759,-395.449 649.6757,-395.4057"/>
</g>
<!-- mt_set_val -->
<g id="node8" class="node">
<title>mt_set_val</title>
<polygon fill="#d3d3d3" stroke="#000000" points="724.3079,-274 553.6921,-274 553.6921,-238 724.3079,-238 724.3079,-274"/>
<text text-anchor="middle" x="639" y="-251.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Adjust motor input power</text>
</g>
<!-- mt_calc_pid&#45;&gt;mt_set_val -->
<g id="edge7" class="edge">
<title>mt_calc_pid-&gt;mt_set_val</title>
<path fill="none" stroke="#000000" d="M644.8441,-348.6706C643.7447,-331.2373 642.0742,-304.7482 640.8004,-284.5489"/>
<polygon fill="#000000" stroke="#000000" points="644.2802,-284.1165 640.1576,-274.3566 637.294,-284.5571 644.2802,-284.1165"/>
</g>
<!-- mt_task_delay -->
<g id="node9" class="node">
<title>mt_task_delay</title>
<polygon fill="#d3d3d3" stroke="#000000" points="766.0558,-163 503.9442,-163 503.9442,-127 766.0558,-127 766.0558,-163"/>
<text text-anchor="middle" x="635" y="-140.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Wait for MOTOR_UPDATE_SPEED ms</text>
</g>
<!-- mt_set_val&#45;&gt;mt_task_delay -->
<g id="edge8" class="edge">
<title>mt_set_val-&gt;mt_task_delay</title>
<path fill="none" stroke="#000000" d="M638.3395,-237.6706C637.7113,-220.2373 636.7567,-193.7482 636.0288,-173.5489"/>
<polygon fill="#000000" stroke="#000000" points="639.5195,-173.2241 635.6615,-163.3566 632.524,-173.4762 639.5195,-173.2241"/>
</g>
<!-- mt_task_delay&#45;&gt;mt_read_target -->
<g id="edge9" class="edge">
<title>mt_task_delay-&gt;mt_read_target</title>
<path fill="none" stroke="#000000" d="M561.6658,-163.0859C531.2833,-172.7854 503,-185.7705 503,-200.5 503,-492.3 503,-492.3 503,-492.3 503,-572.2353 547.7166,-658.4955 573.0327,-700.9262"/>
<polygon fill="#000000" stroke="#000000" points="570.0823,-702.8106 578.2668,-709.5385 576.0642,-699.1751 570.0823,-702.8106"/>
</g>
<!-- st_init -->
<g id="node10" class="node">
<title>st_init</title>
<polygon fill="#d3d3d3" stroke="#000000" points="1309.1333,-1446.2 1142.8667,-1446.2 1142.8667,-1410.2 1309.1333,-1410.2 1309.1333,-1446.2"/>
<text text-anchor="middle" x="1226" y="-1424" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Sensor task initialisation</text>
</g>
<!-- st_set_sem -->
<g id="node11" class="node">
<title>st_set_sem</title>
<polygon fill="#d3d3d3" stroke="#000000" points="1361.3859,-1312.4 1132.6141,-1312.4 1132.6141,-1276.4 1361.3859,-1276.4 1361.3859,-1312.4"/>
<text text-anchor="middle" x="1247" y="-1290.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Take xSensorInitDone semaphore</text>
</g>
<!-- st_init&#45;&gt;st_set_sem -->
<g id="edge10" class="edge">
<title>st_init-&gt;st_set_sem</title>
<path fill="none" stroke="#000000" d="M1228.8322,-1410.1551C1232.3548,-1387.7108 1238.4092,-1349.1356 1242.5532,-1322.7324"/>
<polygon fill="#000000" stroke="#000000" points="1246.0527,-1323.0081 1244.1456,-1312.5863 1239.1374,-1321.9226 1246.0527,-1323.0081"/>
</g>
<!-- st_setup_i2c -->
<g id="node12" class="node">
<title>st_setup_i2c</title>
<polygon fill="#d3d3d3" stroke="#000000" points="1349.7456,-1201.4 1166.2544,-1201.4 1166.2544,-1165.4 1349.7456,-1165.4 1349.7456,-1201.4"/>
<text text-anchor="middle" x="1258" y="-1179.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Set sensors' i2c addresses</text>
</g>
<!-- st_set_sem&#45;&gt;st_setup_i2c -->
<g id="edge11" class="edge">
<title>st_set_sem-&gt;st_setup_i2c</title>
<path fill="none" stroke="#000000" d="M1248.8164,-1276.0706C1250.5441,-1258.6373 1253.1691,-1232.1482 1255.1708,-1211.9489"/>
<polygon fill="#000000" stroke="#000000" points="1258.6776,-1212.0531 1256.1809,-1201.7566 1251.7117,-1211.3627 1258.6776,-1212.0531"/>
</g>
<!-- st_rel_sem -->
<g id="node13" class="node">
<title>st_rel_sem</title>
<polygon fill="#d3d3d3" stroke="#000000" points="1386.1117,-1090.4 1137.8883,-1090.4 1137.8883,-1054.4 1386.1117,-1054.4 1386.1117,-1090.4"/>
<text text-anchor="middle" x="1262" y="-1068.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Release xSensorInitDone semaphore</text>
</g>
<!-- st_setup_i2c&#45;&gt;st_rel_sem -->
<g id="edge12" class="edge">
<title>st_setup_i2c-&gt;st_rel_sem</title>
<path fill="none" stroke="#000000" d="M1258.6605,-1165.0706C1259.2887,-1147.6373 1260.2433,-1121.1482 1260.9712,-1100.9489"/>
<polygon fill="#000000" stroke="#000000" points="1264.476,-1100.8762 1261.3385,-1090.7566 1257.4805,-1100.6241 1264.476,-1100.8762"/>
</g>
<!-- st_read_sensors -->
<g id="node14" class="node">
<title>st_read_sensors</title>
<polygon fill="#d3d3d3" stroke="#000000" points="1325.4833,-956.6 1198.5167,-956.6 1198.5167,-920.6 1325.4833,-920.6 1325.4833,-956.6"/>
<text text-anchor="middle" x="1262" y="-934.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read sensor data</text>
</g>
<!-- st_rel_sem&#45;&gt;st_read_sensors -->
<g id="edge13" class="edge">
<title>st_rel_sem-&gt;st_read_sensors</title>
<path fill="none" stroke="#000000" d="M1262,-1054.3551C1262,-1031.9108 1262,-993.3356 1262,-966.9324"/>
<polygon fill="#000000" stroke="#000000" points="1265.5001,-966.7863 1262,-956.7863 1258.5001,-966.7863 1265.5001,-966.7863"/>
</g>
<!-- bt_wait_sem -->
<g id="node18" class="node">
<title>bt_wait_sem</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="1830" cy="-727.6" rx="182.439" ry="18"/>
<text text-anchor="middle" x="1830" y="-723.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Wait for xSensorInitDone to be released</text>
</g>
<!-- st_rel_sem&#45;&gt;bt_wait_sem -->
<g id="edge29" class="edge">
<title>st_rel_sem-&gt;bt_wait_sem</title>
<path fill="none" stroke="#000000" d="M1386.137,-1067.6844C1571.2246,-1059.8156 1898,-1042.3231 1898,-1016.9 1898,-1016.9 1898,-1016.9 1898,-827 1898,-798.0937 1878.1683,-771.4193 1859.9247,-752.9964"/>
<polygon fill="#000000" stroke="#000000" points="1861.8975,-750.0372 1852.2657,-745.6236 1857.0429,-755.0803 1861.8975,-750.0372"/>
<text text-anchor="middle" x="1949.7349" y="-934.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">xSensorInitDone</text>
</g>
<!-- st_set_vals_safe -->
<g id="node15" class="node">
<title>st_set_vals_safe</title>
<polygon fill="#d3d3d3" stroke="#000000" points="1396.4648,-745.6 1159.5352,-745.6 1159.5352,-709.6 1396.4648,-709.6 1396.4648,-745.6"/>
<text text-anchor="middle" x="1278" y="-723.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Safely copy sensor data to distance</text>
</g>
<!-- st_read_sensors&#45;&gt;st_set_vals_safe -->
<g id="edge14" class="edge">
<title>st_read_sensors-&gt;st_set_vals_safe</title>
<path fill="none" stroke="#000000" d="M1263.3919,-920.2442C1266.1944,-883.2863 1272.5332,-799.694 1275.8639,-755.7704"/>
<polygon fill="#000000" stroke="#000000" points="1279.3565,-755.9991 1276.6227,-745.7631 1272.3765,-755.4698 1279.3565,-755.9991"/>
</g>
<!-- st_task_delay -->
<g id="node16" class="node">
<title>st_task_delay</title>
<polygon fill="#d3d3d3" stroke="#000000" points="1395.5683,-546.8 1126.4317,-546.8 1126.4317,-510.8 1395.5683,-510.8 1395.5683,-546.8"/>
<text text-anchor="middle" x="1261" y="-524.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Wait for SENSOR_UPDATE_SPEED ms</text>
</g>
<!-- st_set_vals_safe&#45;&gt;st_task_delay -->
<g id="edge15" class="edge">
<title>st_set_vals_safe-&gt;st_task_delay</title>
<path fill="none" stroke="#000000" d="M1276.4312,-709.2537C1273.4507,-674.4 1266.9523,-598.4073 1263.4136,-557.0254"/>
<polygon fill="#000000" stroke="#000000" points="1266.8799,-556.4802 1262.5405,-546.8148 1259.9053,-557.0767 1266.8799,-556.4802"/>
</g>
<!-- distances -->
<g id="node28" class="node">
<title>distances</title>
<path fill="none" stroke="#000000" d="M1632.102,-651.6821C1632.102,-654.5614 1582.7525,-656.9004 1522,-656.9004 1461.2475,-656.9004 1411.898,-654.5614 1411.898,-651.6821 1411.898,-651.6821 1411.898,-604.7179 1411.898,-604.7179 1411.898,-601.8386 1461.2475,-599.4996 1522,-599.4996 1582.7525,-599.4996 1632.102,-601.8386 1632.102,-604.7179 1632.102,-604.7179 1632.102,-651.6821 1632.102,-651.6821"/>
<path fill="none" stroke="#000000" d="M1632.102,-651.6821C1632.102,-648.8028 1582.7525,-646.4639 1522,-646.4639 1461.2475,-646.4639 1411.898,-648.8028 1411.898,-651.6821"/>
<text text-anchor="middle" x="1522" y="-632.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Left, Right and Front distances </text>
<text text-anchor="middle" x="1522" y="-615.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000"> Protected by xDistanceAvailable</text>
</g>
<!-- st_set_vals_safe&#45;&gt;distances -->
<g id="edge31" class="edge">
<title>st_set_vals_safe-&gt;distances</title>
<path fill="none" stroke="#000000" d="M1322.1866,-709.5994C1355.7514,-695.9259 1402.8027,-676.7582 1442.8164,-660.4576"/>
<polygon fill="#000000" stroke="#000000" points="1444.3532,-663.6109 1452.2937,-656.5967 1441.7122,-657.1282 1444.3532,-663.6109"/>
<text text-anchor="middle" x="1424.3275" y="-679" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Write</text>
</g>
<!-- st_task_delay&#45;&gt;st_read_sensors -->
<g id="edge16" class="edge">
<title>st_task_delay-&gt;st_read_sensors</title>
<path fill="none" stroke="#000000" d="M1212.1914,-546.8609C1178.9688,-562.6633 1141,-589.2446 1141,-628.2 1141,-827 1141,-827 1141,-827 1141,-867.2275 1177.5846,-896.9581 1210.5206,-915.5726"/>
<polygon fill="#000000" stroke="#000000" points="1209.2192,-918.8479 1219.6801,-920.5276 1212.5499,-912.6911 1209.2192,-918.8479"/>
</g>
<!-- bt_init -->
<g id="node17" class="node">
<title>bt_init</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="1755" cy="-938.6" rx="106.5835" ry="18"/>
<text text-anchor="middle" x="1755" y="-934.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Brain task initialisation</text>
</g>
<!-- bt_init&#45;&gt;bt_wait_sem -->
<g id="edge17" class="edge">
<title>bt_init-&gt;bt_wait_sem</title>
<path fill="none" stroke="#000000" d="M1761.3945,-920.6103C1774.5072,-883.7197 1804.5196,-799.2848 1820.1414,-755.3356"/>
<polygon fill="#000000" stroke="#000000" points="1823.4638,-756.4386 1823.5152,-745.8439 1816.8681,-754.0941 1823.4638,-756.4386"/>
</g>
<!-- bt_read_encoder -->
<g id="node19" class="node">
<title>bt_read_encoder</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="1786" cy="-528.8" rx="138.447" ry="18"/>
<text text-anchor="middle" x="1786" y="-524.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Safely read encoder positions</text>
</g>
<!-- bt_wait_sem&#45;&gt;bt_read_encoder -->
<g id="edge18" class="edge">
<title>bt_wait_sem-&gt;bt_read_encoder</title>
<path fill="none" stroke="#000000" d="M1825.9395,-709.2537C1818.2089,-674.3258 1801.3344,-598.0837 1792.1887,-556.7618"/>
<polygon fill="#000000" stroke="#000000" points="1795.5655,-555.8222 1789.9872,-546.8148 1788.7309,-557.3349 1795.5655,-555.8222"/>
</g>
<!-- bt_read_distance -->
<g id="node20" class="node">
<title>bt_read_distance</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="1783" cy="-367" rx="135.0015" ry="18"/>
<text text-anchor="middle" x="1783" y="-362.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Safely read sensor distances</text>
</g>
<!-- bt_read_encoder&#45;&gt;bt_read_distance -->
<g id="edge19" class="edge">
<title>bt_read_encoder-&gt;bt_read_distance</title>
<path fill="none" stroke="#000000" d="M1785.6617,-510.554C1785.144,-482.6351 1784.1508,-429.0651 1783.5349,-395.8464"/>
<polygon fill="#000000" stroke="#000000" points="1787.0265,-395.3609 1783.3417,-385.4276 1780.0278,-395.4908 1787.0265,-395.3609"/>
</g>
<!-- bt_think -->
<g id="node21" class="node">
<title>bt_think</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="1783" cy="-256" rx="110.6804" ry="18"/>
<text text-anchor="middle" x="1783" y="-251.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Calculate motor targets</text>
</g>
<!-- bt_read_distance&#45;&gt;bt_think -->
<g id="edge20" class="edge">
<title>bt_read_distance-&gt;bt_think</title>
<path fill="none" stroke="#000000" d="M1783,-348.6706C1783,-331.2373 1783,-304.7482 1783,-284.5489"/>
<polygon fill="#000000" stroke="#000000" points="1786.5001,-284.3566 1783,-274.3566 1779.5001,-284.3567 1786.5001,-284.3566"/>
</g>
<!-- bt_set_targets -->
<g id="node22" class="node">
<title>bt_set_targets</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="1783" cy="-145" rx="112.9871" ry="18"/>
<text text-anchor="middle" x="1783" y="-140.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Safely set motor targets</text>
</g>
<!-- bt_think&#45;&gt;bt_set_targets -->
<g id="edge21" class="edge">
<title>bt_think-&gt;bt_set_targets</title>
<path fill="none" stroke="#000000" d="M1783,-237.6706C1783,-220.2373 1783,-193.7482 1783,-173.5489"/>
<polygon fill="#000000" stroke="#000000" points="1786.5001,-173.3566 1783,-163.3566 1779.5001,-173.3567 1786.5001,-173.3566"/>
</g>
<!-- bt_wait_task -->
<g id="node23" class="node">
<title>bt_wait_task</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="1830" cy="-34" rx="174.849" ry="18"/>
<text text-anchor="middle" x="1830" y="-29.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Wait for BRAIN_UPDATE_SPEED ms</text>
</g>
<!-- bt_set_targets&#45;&gt;bt_wait_task -->
<g id="edge22" class="edge">
<title>bt_set_targets-&gt;bt_wait_task</title>
<path fill="none" stroke="#000000" d="M1790.7611,-126.6706C1798.2896,-108.8904 1809.8067,-81.6906 1818.419,-61.3509"/>
<polygon fill="#000000" stroke="#000000" points="1821.7071,-62.5616 1822.3833,-51.9883 1815.2612,-59.8322 1821.7071,-62.5616"/>
</g>
<!-- targets -->
<g id="node29" class="node">
<title>targets</title>
<path fill="none" stroke="#000000" d="M1053.7238,-850.4821C1053.7238,-853.3614 1006.7849,-855.7004 949,-855.7004 891.2151,-855.7004 844.2762,-853.3614 844.2762,-850.4821 844.2762,-850.4821 844.2762,-803.5179 844.2762,-803.5179 844.2762,-800.6386 891.2151,-798.2996 949,-798.2996 1006.7849,-798.2996 1053.7238,-800.6386 1053.7238,-803.5179 1053.7238,-803.5179 1053.7238,-850.4821 1053.7238,-850.4821"/>
<path fill="none" stroke="#000000" d="M1053.7238,-850.4821C1053.7238,-847.6028 1006.7849,-845.2639 949,-845.2639 891.2151,-845.2639 844.2762,-847.6028 844.2762,-850.4821"/>
<text text-anchor="middle" x="949" y="-831.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Left and Right motor targets </text>
<text text-anchor="middle" x="949" y="-814.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000"> Protected by xTargetReadable</text>
</g>
<!-- bt_set_targets&#45;&gt;targets -->
<g id="edge33" class="edge">
<title>bt_set_targets-&gt;targets</title>
<path fill="none" stroke="#000000" d="M1671.8002,-148.4475C1477.8135,-155.2063 1098,-172.0699 1098,-200.5 1098,-727.6 1098,-727.6 1098,-727.6 1098,-758.1846 1076.006,-779.9404 1048.9183,-795.1368"/>
<polygon fill="#000000" stroke="#000000" points="1047.1888,-792.0918 1039.9661,-799.8432 1050.4461,-798.2878 1047.1888,-792.0918"/>
<text text-anchor="middle" x="1114.3275" y="-407.2" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Write</text>
</g>
<!-- bt_wait_task&#45;&gt;bt_read_encoder -->
<g id="edge23" class="edge">
<title>bt_wait_task-&gt;bt_read_encoder</title>
<path fill="none" stroke="#000000" d="M1907.1945,-50.2628C1924.0675,-58.4926 1937,-70.8753 1937,-89.5 1937,-455.8 1937,-455.8 1937,-455.8 1937,-475.8155 1893.4522,-495.3863 1853.1291,-509.2176"/>
<polygon fill="#000000" stroke="#000000" points="1851.8918,-505.9407 1843.5174,-512.4307 1854.1112,-512.5796 1851.8918,-505.9407"/>
</g>
<!-- int_read_other -->
<g id="node25" class="node">
<title>int_read_other</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="297" cy="-628.2" rx="92.706" ry="18"/>
<text text-anchor="middle" x="297" y="-624" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read hall sensor B</text>
</g>
<!-- int_trigger&#45;&gt;int_read_other -->
<g id="edge24" class="edge">
<title>int_trigger-&gt;int_read_other</title>
<path fill="none" stroke="#000000" d="M251.5254,-809.0072C260.2789,-774.203 279.5833,-697.4488 290.003,-656.02"/>
<polygon fill="#000000" stroke="#000000" points="293.4039,-656.8471 292.4488,-646.2954 286.6154,-655.1396 293.4039,-656.8471"/>
</g>
<!-- int_update_encpos -->
<g id="node26" class="node">
<title>int_update_encpos</title>
<ellipse fill="#d3d3d3" stroke="#000000" cx="338" cy="-455.8" rx="105.4629" ry="18"/>
<text text-anchor="middle" x="338" y="-451.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Update motor position</text>
</g>
<!-- int_read_other&#45;&gt;int_update_encpos -->
<g id="edge25" class="edge">
<title>int_read_other-&gt;int_update_encpos</title>
<path fill="none" stroke="#000000" d="M301.3102,-610.076C308.4771,-579.94 322.8923,-519.3261 331.3637,-483.7047"/>
<polygon fill="#000000" stroke="#000000" points="334.7773,-484.4783 333.686,-473.9398 327.9672,-482.8587 334.7773,-484.4783"/>
</g>
<!-- encpos -->
<g id="node30" class="node">
<title>encpos</title>
<path fill="none" stroke="#000000" d="M1070.3484,-651.6821C1070.3484,-654.5614 1006.9938,-656.9004 929,-656.9004 851.0062,-656.9004 787.6516,-654.5614 787.6516,-651.6821 787.6516,-651.6821 787.6516,-604.7179 787.6516,-604.7179 787.6516,-601.8386 851.0062,-599.4996 929,-599.4996 1006.9938,-599.4996 1070.3484,-601.8386 1070.3484,-604.7179 1070.3484,-604.7179 1070.3484,-651.6821 1070.3484,-651.6821"/>
<path fill="none" stroke="#000000" d="M1070.3484,-651.6821C1070.3484,-648.8028 1006.9938,-646.4639 929,-646.4639 851.0062,-646.4639 787.6516,-648.8028 787.6516,-651.6821"/>
<text text-anchor="middle" x="929" y="-632.4" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Current motor positions </text>
<text text-anchor="middle" x="929" y="-615.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000"> Protected by xLeft/RightEncoder spinlocks</text>
</g>
<!-- int_update_encpos&#45;&gt;encpos -->
<g id="edge35" class="edge">
<title>int_update_encpos-&gt;encpos</title>
<path fill="none" stroke="#000000" d="M355.6099,-473.7153C377.4364,-494.776 416.7422,-529.096 457.345,-546.8 513.5942,-571.3263 661.9313,-594.6467 777.3761,-609.9891"/>
<polygon fill="#000000" stroke="#000000" points="777.0113,-613.4712 787.3834,-611.31 777.9274,-606.5314 777.0113,-613.4712"/>
<text text-anchor="middle" x="474.3275" y="-524.6" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Write</text>
</g>
<!-- init -->
<g id="node27" class="node">
<title>init</title>
<polygon fill="none" stroke="#000000" points="1100,-1542 1001.8758,-1524 1100,-1506 1198.1242,-1524 1100,-1542"/>
<polyline fill="none" stroke="#000000" points="1013.6788,-1526.1652 1013.6788,-1521.8348 "/>
<polyline fill="none" stroke="#000000" points="1088.1969,-1508.1652 1111.8031,-1508.1652 "/>
<polyline fill="none" stroke="#000000" points="1186.3212,-1521.8348 1186.3212,-1526.1652 "/>
<polyline fill="none" stroke="#000000" points="1111.8031,-1539.8348 1088.1969,-1539.8348 "/>
<text text-anchor="middle" x="1100" y="-1519.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Program start</text>
</g>
<!-- init&#45;&gt;mt_init -->
<g id="edge26" class="edge">
<title>init-&gt;mt_init</title>
<path fill="none" stroke="#000000" d="M1075.5805,-1510.3251C1007.6336,-1472.2748 815.8048,-1364.8507 731.0883,-1317.4094"/>
<polygon fill="#000000" stroke="#000000" points="732.7008,-1314.301 722.2656,-1312.4687 729.2805,-1320.4086 732.7008,-1314.301"/>
</g>
<!-- init&#45;&gt;st_init -->
<g id="edge27" class="edge">
<title>init-&gt;st_init</title>
<path fill="none" stroke="#000000" d="M1119.1367,-1509.45C1138.9664,-1494.3731 1170.3061,-1470.5451 1193.9293,-1452.5839"/>
<polygon fill="#000000" stroke="#000000" points="1196.0897,-1455.3381 1201.9318,-1446.4995 1191.853,-1449.7658 1196.0897,-1455.3381"/>
</g>
<!-- init&#45;&gt;bt_init -->
<g id="edge28" class="edge">
<title>init-&gt;bt_init</title>
<path fill="none" stroke="#000000" d="M1100,-1505.9903C1100,-1486.7355 1100,-1455.3101 1100,-1428.2 1100,-1428.2 1100,-1428.2 1100,-1035.9 1100,-1035.0191 1484.6011,-978.3559 1664.383,-951.9168"/>
<polygon fill="#000000" stroke="#000000" points="1664.9716,-955.3679 1674.3559,-950.4502 1663.9531,-948.4424 1664.9716,-955.3679"/>
</g>
<!-- distances&#45;&gt;bt_read_encoder -->
<g id="edge32" class="edge">
<title>distances-&gt;bt_read_encoder</title>
<path fill="none" stroke="#000000" d="M1596.5932,-600.1145C1639.3247,-584.0255 1692.0244,-564.1832 1730.9772,-549.5169"/>
<polygon fill="#000000" stroke="#000000" points="1732.4445,-552.7044 1740.5698,-545.9051 1729.9779,-546.1533 1732.4445,-552.7044"/>
<text text-anchor="middle" x="1701.7272" y="-569" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read</text>
</g>
<!-- targets&#45;&gt;mt_read_target -->
<g id="edge34" class="edge">
<title>targets-&gt;mt_read_target</title>
<path fill="none" stroke="#000000" d="M852.3223,-800.2319C793.4744,-783.938 719.4152,-763.4325 665.007,-748.3679"/>
<polygon fill="#000000" stroke="#000000" points="665.6559,-744.916 655.0845,-745.6206 663.788,-751.6622 665.6559,-744.916"/>
<text text-anchor="middle" x="797.7272" y="-767.8" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read</text>
</g>
<!-- encpos&#45;&gt;mt_read_current -->
<g id="edge36" class="edge">
<title>encpos-&gt;mt_read_current</title>
<path fill="none" stroke="#000000" d="M847.8123,-599.5828C803.2242,-583.8662 748.8405,-564.697 707.9194,-550.273"/>
<polygon fill="#000000" stroke="#000000" points="708.944,-546.9232 698.3492,-546.8997 706.6169,-553.525 708.944,-546.9232"/>
<text text-anchor="middle" x="813.7272" y="-569" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read</text>
</g>
<!-- encpos&#45;&gt;bt_read_encoder -->
<g id="edge37" class="edge">
<title>encpos-&gt;bt_read_encoder</title>
<path fill="none" stroke="#000000" d="M1070.5161,-611.7861C1239.1512,-592.2268 1517.5355,-559.9381 1672.6619,-541.9456"/>
<polygon fill="#000000" stroke="#000000" points="1673.1689,-545.4104 1682.699,-540.7815 1672.3624,-538.457 1673.1689,-545.4104"/>
<text text-anchor="middle" x="1476.7272" y="-569" font-family="Helvetica,Arial,sans-serif" font-size="14.00" fill="#000000">Read</text>
</g>
</g>
</svg>